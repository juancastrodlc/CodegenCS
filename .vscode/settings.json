{
    // C# Configuration - Using OmniSharp (C# extension with modern .NET)
    "dotnet.defaultSolution": "src/CodegenCS-Linux.slnf",

    // Enable semantic highlighting
    "editor.semanticHighlighting.enabled": true,

    // Language server settings (works with both OmniSharp and Roslyn)
    "dotnet.backgroundAnalysis.analyzerDiagnosticsScope": "openFiles",
    "dotnet.backgroundAnalysis.compilerDiagnosticsScope": "openFiles",
    "dotnet.codeLens.enableReferencesCodeLens": false,
    "dotnet.maxProjectFileCountForDiagnosticAnalysis": 1000,
    "dotnet.backgroundAnalysis.projectAnalysisEnabled": false,
    "dotnet.inlayHints.enableInlayHintsForParameters": false,
    "dotnet.inlayHints.enableInlayHintsForLiteralParameters": false,
    "dotnet.inlayHints.enableInlayHintsForIndexerParameters": false,
    "dotnet.inlayHints.enableInlayHintsForObjectCreationParameters": false,
    "dotnet.inlayHints.enableInlayHintsForOtherParameters": false,
    "dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix": true,
    "dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent": true,
    "dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName": true,

    // Legacy OmniSharp settings (if using old C# extension)
    "omnisharp.enableEditorConfigSupport": false,
    "omnisharp.enableMsBuildLoadProjectsOnDemand": true,
    "omnisharp.projectFilesExcludePattern": "**/VisualStudio/**",
    // Files to exclude from IntelliSense
    "files.exclude": {
        "**/bin": false,
        "**/obj": false,
        "**/.vs": true
    },

    // Search exclusions
    "search.exclude": {
        "**/bin": true,
        "**/obj": true,
        "**/node_modules": true,
        "**/.vs": true,
        "**/packages": true,
        "**/packages-local": true
    },

    // File associations
    "files.associations": {
        "*.csx": "csharp"
    },

    // Trailing Spaces extension settings - disable live trimming
    "trailing-spaces.liveMatching": false,

    // Editor settings
    "editor.formatOnSave": false,
    "editor.codeActionsOnSave": {
        "source.organizeImports": "never"
    },

    // Delay validation while typing (reduces red squiggles)
    "editor.quickSuggestionsDelay": 100,
    "editor.snippetSuggestions": "top",
    "editor.suggest.localityBonus": true,
    "editor.suggest.shareSuggestSelections": false,

    // Disable problematic IntelliSense features
    "csharp.inlayHints.enableInlayHintsForImplicitObjectCreation": false,
    "csharp.inlayHints.enableInlayHintsForImplicitVariableTypes": false,
    "csharp.inlayHints.enableInlayHintsForLambdaParameterTypes": false,
    "csharp.inlayHints.enableInlayHintsForTypes": false,
    "csharp.suppressHiddenDiagnostics": true,
    "csharp.showOmnisharpLogOnError": false,

    // Terminal
    "terminal.integrated.defaultProfile.linux": "bash",
    "terminal.integrated.env.linux": {
        "TMPDIR": "${workspaceFolder}/.tmp",
        "TMP": "${workspaceFolder}/.tmp",
        "TEMP": "${workspaceFolder}/.tmp"
    },
    "terminal.integrated.env.osx": {
        "TMPDIR": "${workspaceFolder}/.tmp",
        "TMP": "${workspaceFolder}/.tmp",
        "TEMP": "${workspaceFolder}/.tmp"
    },
    "terminal.integrated.env.windows": {
        "TMP": "${workspaceFolder}\\.tmp",
        "TEMP": "${workspaceFolder}\\.tmp"
    },
    "dotnet.completion.showCompletionItemsFromUnimportedNamespaces": false,
    "dotnet.completion.showNameCompletionSuggestions": true,
    "dotnet.formatting.organizeImportsOnFormat": false,
    "dotnet.projects.enableAutomaticRestore": false,
    "dotnet-test-explorer.testProjectPath": "**/*Tests.csproj",
    "dotnet.unitTests.runSettingsPath": "${workspaceFolder}/.vscode/test.runsettings",

    // Environment variables for C# Dev Kit test debugging
    "dotnet.unitTestDebuggingOptions": {
        "env": {
            "TMPDIR": "${workspaceFolder}/.tmp",
            "TMP": "${workspaceFolder}/.tmp",
            "TEMP": "${workspaceFolder}/.tmp"
        }
    },

    // Environment variables for C# extension test runner (when clicking "Run Test" in code lens)
    "csharp.debug.envFile": "${workspaceFolder}/.vscode/.env",

    // For older test explorer extensions
    "dotnet-test-explorer.envVars": {
        "TMPDIR": "${workspaceFolder}/.tmp",
        "TMP": "${workspaceFolder}/.tmp",
        "TEMP": "${workspaceFolder}/.tmp"
    },
    "dotnet.server.useOmnisharp": false,
    "omnisharp.useModernNet": false,
    "csharp.semanticHighlighting.enabled": true,
    "files.watcherExclude": {
        "**/.git/objects/**": true,
        "**/.git/subtree-cache/**": true,
        "**/node_modules/**": true,
        "**/.hg/store/**": true,
        "**/.tmp/**": true,
        "**/bin/**": true,
        "**/obj/**": true,
        "**/packages-local/**": true,
        "**/External/**": true
    },
    "files.maxMemoryForLargeFilesMB": 4096,
    "telemetry.telemetryLevel": "off",
    "C_Cpp.files.exclude": {
        "**/.tmp/**": true,
        "**/bin/**": true,
        "**/obj/**": true,
        "**/packages-local/**": true,
        "**/External/command-line-api/**": true,
        "**/External/**/bin":true,
        "**/External/**/obj":true
    },

    // Explicitly disable unwanted extensions for this workspace
    "extensions.autoCheckUpdates": false,
    "remote.extensionKind": {
        "platformio.platformio-ide": ["workspace"],
        "ms-vscode-remote.remote-containers": ["workspace"],
        "ms-azuretools.vscode-docker": ["workspace"]
    },

    // Disable Copilot auto-completions (can re-enable via status bar or Ctrl+I for manual trigger)
    "github.copilot.editor.enableAutoCompletions": false,

    // Auto-approve safe terminal commands, require approval for dangerous ones
    "chat.tools.terminal.autoApprove": {
        "rm": false,
        "rmdir": false,
        "del": false,
        "kill": false,
        "curl": false,
        "wget": false,
        "eval": false,
        "chmod": false,
        "chown": false,
        "/^Remove-Item\\b/i": false
    },
    "files.autoSave": "afterDelay",
    "files.autoSaveDelay": 3000,
    "github.copilot.enable": {
        "*": false
    },
}